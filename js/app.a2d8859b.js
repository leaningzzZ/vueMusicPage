(function(t){function i(i){for(var s,o,c=i[0],r=i[1],l=i[2],d=0,g=[];d<c.length;d++)o=c[d],a[o]&&g.push(a[o][0]),a[o]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);u&&u(i);while(g.length)g.shift()();return e.push.apply(e,l||[]),n()}function n(){for(var t,i=0;i<e.length;i++){for(var n=e[i],s=!0,c=1;c<n.length;c++){var r=n[c];0!==a[r]&&(s=!1)}s&&(e.splice(i--,1),t=o(o.s=n[0]))}return t}var s={},a={app:0},e=[];function o(i){if(s[i])return s[i].exports;var n=s[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,i,n){o.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,i){if(1&i&&(t=o(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)o.d(n,s,function(i){return t[i]}.bind(null,s));return n},o.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=i,c=c.slice();for(var l=0;l<c.length;l++)i(c[l]);var u=r;e.push([0,"chunk-vendors"]),n()})({0:function(t,i,n){t.exports=n("56d7")},"034f":function(t,i,n){"use strict";var s=n("64a9"),a=n.n(s);a.a},"0693":function(t,i,n){"use strict";var s=n("5e24"),a=n.n(s);a.a},"0f45":function(t,i,n){"use strict";var s=n("8dbc"),a=n.n(s);a.a},1665:function(t,i,n){"use strict";var s=n("a2ae"),a=n.n(s);a.a},"296d":function(t,i,n){"use strict";var s=n("9eb8"),a=n.n(s);a.a},"2a19":function(t,i,n){},"2d90":function(t,i,n){},"312c":function(t,i,n){"use strict";var s=n("72cf"),a=n.n(s);a.a},"375c":function(t,i,n){"use strict";var s=n("2d90"),a=n.n(s);a.a},"56d7":function(t,i,n){"use strict";n.r(i);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{attrs:{id:"app"}},[n("my-header"),n("my-tab"),n("router-view"),n("keep-alive",[n("player")],1)],1)},e=[],o=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"container"},[t._v("\n    vue-Music\n")])},c=[],r={},l=r,u=(n("0f45"),n("2877")),d=Object(u["a"])(l,o,c,!1,null,"08e1ad32",null),g=d.exports,f=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"tabs"},[n("router-link",{staticClass:"tab-item",attrs:{tag:"div","active-class":"active",to:"/recommend"}},[n("span",{staticClass:"tab-link"},[t._v("推荐")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div","active-class":"active",to:"/singer"}},[n("span",{staticClass:"tab-link"},[t._v("歌手")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div","active-class":"active",to:"/rank"}},[n("span",{staticClass:"tab-link"},[t._v("排行")])]),n("router-link",{staticClass:"tab-item",attrs:{tag:"div","active-class":"active",to:"/search"}},[n("span",{staticClass:"tab-link"},[t._v("搜索 ")])])],1)},m=[],p={},v=p,h=(n("312c"),Object(u["a"])(v,f,m,!1,null,null,null)),y=h.exports,C=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"content"},[this.$store.state.isFullScreen?n("div",{staticClass:"fullScreenPlayer"},[n("div",{staticClass:"topbar"},[n("i",{staticClass:"el-icon-back",on:{click:t.fullScreen}}),n("div",{staticClass:"title"},[t._v(t._s(t.songInfo.name))])]),n("div",{staticClass:"body"},[n("div",{staticClass:"img"},[n("img",{class:this.isPlaying?"play":t.pause,attrs:{src:this.songPic,alt:""}})])]),n("div",{staticClass:"footer"},[n("div",{staticClass:"process"},[n("span",{staticClass:"currentTime"},[t._v(t._s(t._f("timeFormat")(t.currentTime)))]),n("div",{staticClass:"processBody"},[n("el-progress",{attrs:{percentage:t.musicProcess,"stroke-width":10,color:"#6f7ad3","show-text":!1}})],1),n("span",{staticClass:"duration"},[t._v(t._s(t._f("timeFormat")(t.duration)))])]),n("div",{staticClass:"footTool"},[n("i",{staticClass:"el-icon-caret-left",on:{click:t.lastMusic}}),t.isPlaying?t._e():n("i",{staticClass:"el-icon-video-play",on:{click:t.musicPlay}}),t.isPlaying?n("i",{staticClass:"el-icon-video-pause",on:{click:t.musicPause}}):t._e(),n("i",{staticClass:"el-icon-caret-right",on:{click:t.nextMusic}})])])]):n("div",{staticClass:"player"},[t._v("\n    "+t._s(this.$store.state.onPlayingIndex)+"\n    "),n("div",{staticClass:"audioContent"},[n("div",{staticClass:"pic",on:{click:function(i){t.isPlaying&&t.fullScreen()}}},[n("img",{attrs:{src:this.songPic,alt:""}})]),n("div",{staticClass:"tool"},[t.isPlaying?t._e():n("i",{staticClass:"el-icon-video-play",on:{click:t.musicPlay}}),t.isPlaying?n("i",{staticClass:"el-icon-video-pause",on:{click:t.musicPause}}):t._e(),n("i",{staticClass:"el-icon-caret-right",on:{click:t.nextMusic}})]),n("div",{staticClass:"process"},[n("el-progress",{attrs:{percentage:t.musicProcess,"stroke-width":10,color:"#6f7ad3","show-text":!1}})],1)])]),n("audio",{ref:"audio",attrs:{src:this.songUrl,autoplay:""},on:{ended:t.nextMusic,canplay:function(i){return t.oncanPlay()},timeupdate:t.updateTime}})])},_=[],P=n("bc3a"),L=n.n(P),k=n("3c75"),w=n.n(k),b={data:function(){return{songInfo:"",songUrl:"",songPic:"",songLyric:"",musicProcess:0,isPlaying:!1,currentTime:0,duration:0}},methods:{fullScreen:function(){this.$store.commit("changeIsFullScreen")},updateTime:function(){this.currentTime=this.$refs.audio.currentTime,isNaN(this.duration)||(this.musicProcess=this.currentTime/this.duration*100)},nextMusic:function(){this.$store.commit("nextMusic",1)},lastMusic:function(){this.$store.commit("nextMusic",-1)},getSongUrl:function(t){return this.$api.get("tencent/url?id=".concat(t,"&isRedirect=0"))},getSongPic:function(t){return this.$api.get("tencent/pic?id=".concat(t,"&isRedirect=0"))},getSongInfo:function(t){return this.$api.get("tencent/song?id=".concat(t))},getSongLyric:function(t){return this.$api.get("/tencent/lrc?id=".concat(t))},musicPause:function(){this.$refs.audio.pause(),this.isPlaying=!1,console.log(1)},musicPlay:function(){this.$refs.audio.play(),this.isPlaying=!0},oncanPlay:function(){console.log(this.$refs.audio.duration),this.duration=this.$refs.audio.duration,this.canPlay=!0,console.log(this.duration)}},watch:{songMid:{handler:function(t,i){var n=this;console.log(L.a),L.a.all([this.getSongUrl(t),this.getSongPic(t),this.getSongInfo(t),this.getSongLyric(t)]).then(L.a.spread(function(t,i,s,a){n.songUrl=t.data.data,n.songPic=i.data.data,n.songInfo=s.data.data[0],n.songLyric=a.data,console.log(n.songLyric);var e=new w.a(n.songLyric);console.log(e),n.isPlaying=!0}))}}},computed:{songMid:function(){return this.$store.state.onPlayingMid}},filters:{timeFormat:function(t){if(t){var i=t/60,n=t%60;return n<10?"".concat(Math.floor(i),":0").concat(Math.floor(n)):"".concat(Math.floor(i),":").concat(Math.floor(n))}return"00:00"}}},x=b,I=(n("1665"),Object(u["a"])(x,C,_,!1,null,null,null)),S=I.exports,$={components:{MyHeader:g,MyTab:y,player:S}},D=$,M=(n("034f"),Object(u["a"])(D,a,e,!1,null,null,null)),O=M.exports,j=n("8c4f"),N=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"swiper"},[t.recommendData.slider.length>0?n("swiper",{ref:"mySwiper"},t._l(t.recommendData.slider,function(t){return n("swiper-slide",{key:t.id},[n("a",{attrs:{href:"#"}},[n("img",{attrs:{src:t.picUrl,alt:""}})])])}),1):t._e()],1),n("div",{staticClass:"title"},[t._v("热门歌单推荐")]),t.recommendData.slider.length>0?n("div",{staticClass:"songList"},[n("ul",t._l(t.recommendData.songList,function(i){return n("li",{key:i.dissid,on:{click:function(n){return t.goSongListDetail(i.dissid,i.listennum)}}},[n("div",{staticClass:"listItem"},[n("div",{staticClass:"listPic"},[n("img",{attrs:{src:i.imgurl,alt:""}})]),n("p",{staticClass:"listTitle"},[t._v(t._s(i.dissname))]),n("div",{staticClass:"listennum"},[n("p",[n("i",{staticClass:"el-icon-service"}),t._v("\n                  "+t._s(i.listennum)+"\n                ")])])])])}),0)]):t._e()])},T=[],E=n("f2e8"),F=n.n(E);n("4be7");function U(t,i,n){return t+=(t.indexOf(!1)?"?":"&")+R(i),new Promise(function(i,s){F()(t,n,function(t,n){t?s(t):i(n)})})}function R(t){var i="";for(var n in t){var s=void 0!==t[n]?t[n]:"";i+="&".concat(n,"=").concat(encodeURIComponent(s))}return i?i.substring(1):""}var q={param:"jsonpCallback"};function B(){var t="https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",i=Object.assign({},void 0,{platform:"h5",uin:0,needNewCode:1});return console.log(U(t,i,q)),U(t,i,q)}var H={created:function(){this.swiperLoading=!1,this.listLoading=!1,this._getRecommend(),this.getSongList()},methods:{_getRecommend:function(){var t=this;this.swiperLoading=!0,B().then(function(i){t.recommendData.slider=i.data.slider,t.swiperLoading=!1})},getSongList:function(){var t=this;this.listLoading=!0,this.$api.get("tencent/songList/hot?cat=全部&pageSize=100&page=0").then(function(i){console.log(i.data),t.recommendData.songList=i.data.data.list,t.listLoading=!1})},goSongListDetail:function(t,i){var n=window.localStorage;n.listId=t,n.listennum=i,this.$router.push({name:"songListDetail"})}},data:function(){return{recommendData:{radioList:[],slider:[],songList:[]},loading:!1}}},z=H,J=(n("804f"),Object(u["a"])(z,N,T,!1,null,"6e229f6e",null)),A=J.exports,G=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("div",{staticClass:"singerList"},[n("ul",t._l(t.singerData.singerList,function(i){return n("li",{key:i.id,on:{click:function(n){return t.gosingerDetail(i.singer_mid,i.singer_name,i.singer_pic,i.country)},touchstart:function(i){t.singerListClicked(i)},touchend:function(i){t.singerListNoClicked(i)}}},[n("div",{staticClass:"singerListItem"},[n("div",{staticClass:"singerListPic"},[n("img",{attrs:{src:i.singer_pic,alt:""}})]),n("div",{staticClass:"listSingerName"},[n("p",[t._v(t._s(i.singer_name))])]),n("i",{staticClass:"el-icon-arrow-right"})])])}),0)])])},K=[],Q={created:function(){this.getSingerList(),this.listLoading=!1},methods:{getSingerList:function(){var t=this;this.listLoading=!0,this.$api.get("tencent/artist/list?page=0&pageSize=30").then(function(i){t.singerData.singerList=i.data.data,t.listLoading=!1,console.log(t.singerData.singerList)})},singerListClicked:function(t){var i=t.currentTarget;i.style.backgroundColor="#c5c5c5"},singerListNoClicked:function(t){var i=t.currentTarget;i.style.backgroundColor="#ffffff"},gosingerDetail:function(t,i,n,s){var a=window.localStorage;a.singerId=t,a.singerName=i,a.singerPic=n,a.singerCountry=s,this.$router.push({name:"singerDetail"})}},data:function(){return{singerData:{singerList:[]},loading:!1}}},V=Q,W=(n("375c"),Object(u["a"])(V,G,K,!1,null,null,null)),X=W.exports,Y=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("el-input",{staticClass:"search",attrs:{placeholder:"搜索歌曲丶歌单丶专辑","prefix-icon":"el-icon-search"},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.search(t.keyword)}},model:{value:t.keyword,callback:function(i){t.keyword=i},expression:"keyword"}}),n("div",{staticClass:"listBody"},[n("div",{staticClass:"list"},[n("ul",t._l(t.searchList,function(i,s){return n("li",{key:i.id,on:{click:function(i){return t.musicPlay(s)}}},[n("div",{staticClass:"songIndex"},[t._v(t._s(s+1))]),n("div",{staticClass:"songInfo"},[n("h4",{staticClass:"songName"},[t._v(t._s(i.songname))]),n("div",{staticClass:"singer"},[t._v(t._s(i.singer[0].name))]),n("div",{staticClass:"el-icon-caret-right"})])])}),0)])])],1)},Z=[],tt={data:function(){return{keyword:"",searchList:[]}},watch:{keyword:{handler:function(t,i){var n=this;this.$api.get("tencent/search?keyword=".concat(this.keyword,"&type=song&pageSize=100&page=0")).then(function(t){n.songUrl=t.data.data,n.searchList=t.data.data.list,n.$store.commit("addIntoPlayList",n.searchList),console.log(n.$store.state.playList)})}}},methods:{musicPlay:function(t){this.$store.commit("musicPlay",t)}}},it=tt,nt=(n("0693"),Object(u["a"])(it,Y,Z,!1,null,null,null)),st=nt.exports,at=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[t._v("rank")])},et=[],ot={},ct=Object(u["a"])(ot,at,et,!1,null,null,null),rt=ct.exports,lt=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container"},[n("div",{staticClass:"listHeader"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:t.listData.logo,alt:""}})]),n("div",{staticClass:"title"},[n("h3",[t._v(t._s(t.listData.dissname))]),n("span",{staticClass:"nickname"},[t._v("作者："+t._s(t.listData.nickname))]),n("span",{staticClass:"playCount"},[t._v(t._s(t.playCount)+"次播放")])])]),n("div",{staticClass:"listDesc"},[n("p",{staticClass:"desc"},[t._v("简介："+t._s(t.listData.desc))])]),n("div",{staticClass:"listBody"},[t._m(0),n("div",{staticClass:"list"},[n("ul",t._l(t.listData.songlist,function(i,s){return n("li",{key:i.id,on:{click:function(i){return t.musicPlay(s)}}},[n("div",{staticClass:"songIndex"},[t._v(t._s(s+1))]),n("div",{staticClass:"songInfo"},[n("h4",{staticClass:"songName"},[t._v(t._s(i.name))]),n("div",{staticClass:"singer"},[t._v(t._s(i.singer[0].name))]),n("div",{staticClass:"el-icon-caret-right"})])])}),0)])])])},ut=[function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"title"},[n("p",[t._v("歌单列表")])])}],dt={created:function(){var t=this;this.loading=!0,this.listId=window.localStorage.listId,this.playCount=window.localStorage.listennum,this.$api.get("tencent/songList?id=".concat(this.listId)).then(function(i){t.listData=i.data.data[0],t.loading=!1,t.$store.commit("addIntoPlayList",t.listData.songlist),console.log(t.$store.state.playList)})},data:function(){return{loading:!1,listId:"",playCount:"",listData:{nickname:"",desc:"",logo:"",songnum:"",songs:[],title:""}}},methods:{musicPlay:function(t){this.$store.commit("musicPlay",t)}}},gt=dt,ft=(n("58d1"),Object(u["a"])(gt,lt,ut,!1,null,"0e3f458e",null)),mt=ft.exports,pt=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"container"},[n("div",{staticClass:"listHeader"},[n("div",{staticClass:"singerPic"},[n("img",{attrs:{src:t.singerPic,alt:""}})]),n("div",{staticClass:"singerName"},[n("p",[t._v(t._s(t.singerName))])]),n("div",{staticClass:"singerCountry"},[n("p",[t._v(t._s(t.singerCountry))])])]),n("div",{staticClass:"listBody"},[n("div",{staticClass:"list"},[n("ul",t._l(t.singerData.song,function(i,s){return n("li",{key:i.id,on:{click:function(i){return t.singerMusicPlay(s)}}},[n("div",{staticClass:"songIndex"},[t._v(t._s(s+1))]),n("div",{staticClass:"songInfo"},[n("h4",{staticClass:"songName"},[t._v(t._s(i.musicData.songname))]),n("div",{staticClass:"singer"},[t._v(t._s(i.musicData.singer[0].name))]),n("div",{staticClass:"el-icon-caret-right"})])])}),0)])])])},vt=[],ht={created:function(){var t=this;this.loading=!0,this.singerId=window.localStorage.singerId,this.singerName=window.localStorage.singerName,this.singerPic=window.localStorage.singerPic,this.singerCountry=window.localStorage.singerCountry,this.$api.get("tencent/song/artist?id=".concat(this.singerId)).then(function(i){t.singerData.song=i.data.data,t.loading=!1,console.log(t.singerData.song),t.$store.commit("addIntoPlayList",t.singerData.song)})},data:function(){return{singerId:"",singerName:"",singerPic:"",singerCountry:"",loading:!1,singerData:{song:[]}}},methods:{singerMusicPlay:function(t){this.$store.commit("musicPlay",t)}}},yt=ht,Ct=(n("296d"),Object(u["a"])(yt,pt,vt,!1,null,"9662dac0",null)),_t=Ct.exports;s["default"].use(j["a"]);var Pt=new j["a"]({mode:"history",base:"",routes:[{path:"/",redirect:"recommend"},{path:"/singer",name:"singer",component:X},{path:"/search",name:"search",component:st},{path:"/rank",name:"rank",component:rt},{path:"/recommend",name:"recommend",component:A},{path:"/listDetail",name:"songListDetail",component:mt},{path:"/player",name:"player",component:S},{path:"/singerDetail",name:"singerDetail",component:_t}]}),Lt=n("2f62");s["default"].use(Lt["a"]);var kt=new Lt["a"].Store({state:{playList:[],onPlayingIndex:-1,onPlayingMid:"",playModel:"list",isFullScreen:!1},mutations:{addIntoPlayList:function(t,i){t.playList=i},changeIsFullScreen:function(t){t.isFullScreen=!t.isFullScreen},musicPlay:function(t,i){(i||0==i)&&(t.onPlayingIndex=i),""!=t.playList[t.onPlayingIndex].mid&&null!=t.playList[t.onPlayingIndex].mid?t.onPlayingMid=t.playList[t.onPlayingIndex].mid:""!=t.playList[t.onPlayingIndex].songmid&&null!=t.playList[t.onPlayingIndex].songmid?t.onPlayingMid=t.playList[t.onPlayingIndex].songmid:""!=t.playList[t.onPlayingIndex].musicData.songmid&&null!=t.playList[t.onPlayingIndex].musicData.songmid&&(t.onPlayingMid=t.playList[t.onPlayingIndex].musicData.songmid)},nextMusic:function(t,i){"list"==t.playModel?t.onPlayingIndex+=i:"random"==t.playModel&&(t.onPlayingIndex=t.onPlayingIndex+Math.floor(Math.random()*t.playList.length)),this.commit("musicPlay")}},actions:{}}),wt=n("5c96"),bt=n.n(wt),xt=(n("0fae"),n("7212")),It=n.n(xt),St=(n("dfa4"),L.a.create({baseURL:"https://v1.itooi.cn/"}));St.defaults.headers["Content-Type"]="application/x-www-form-urlencoded",s["default"].use(It.a,{loop:!0,speed:900,calculateHeight:!0,autoplay:{delay:3e3,disableOnInteraction:!1}}),s["default"].prototype.$api=St,s["default"].config.productionTip=!1,s["default"].use(bt.a),new s["default"]({router:Pt,store:kt,render:function(t){return t(O)}}).$mount("#app")},"58d1":function(t,i,n){"use strict";var s=n("2a19"),a=n.n(s);a.a},"5e24":function(t,i,n){},"64a9":function(t,i,n){},"72cf":function(t,i,n){},"804f":function(t,i,n){"use strict";var s=n("dfd0"),a=n.n(s);a.a},"8dbc":function(t,i,n){},"9eb8":function(t,i,n){},a2ae:function(t,i,n){},dfd0:function(t,i,n){}});
//# sourceMappingURL=app.a2d8859b.js.map